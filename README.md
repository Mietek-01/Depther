# Depther
![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Start%20Menu.png)

Jest to moja autorska gra, ktÃ³rÄ… zaczÄ…Å‚em tworzyÄ‡ w lutym 2021 roku z wykorzystaniem silnika Unity, a moim gÅ‚Ã³wnym celem byÅ‚o nabycie umiejÄ™tnoÅ›ci z zakresu tworzenia gier. 

Jestem pasjonatem programowania, zatem gÅ‚Ã³wnie skupiÅ‚em siÄ™ na mechanice gry, niÅ¼ na jej oprawie wizualnej. Bardzo zaleÅ¼aÅ‚o mi na rÃ³Å¼norodnoÅ›ci oraz zÅ‚oÅ¼onoÅ›ci gry, by byÅ‚a wyjÄ…tkowa i cechowaÅ‚a siÄ™ bogatÄ… mechanikÄ….  

Niestety grafikÄ™ oraz audio musiaÅ‚em pobraÄ‡ z innych projektÃ³w, jednak byÅ‚y to projekty publiczne przeznaczone do nauki. GrafikÄ™ jedynie musiaÅ‚em trochÄ™ przerobiÄ‡, by pasowaÅ‚a do klimatu gry. 

## Opis gry
Depther jest platformÃ³wkÄ…, ale nie byle jakÄ…. W poczÄ…tkowej fazie tworzenia gry bardzo spodobaÅ‚ mi siÄ™ efekt gÅ‚Ä™bi,
ktÃ³ry moÅ¼na osiÄ…gnÄ…Ä‡ w bardzo prosty sposÃ³b poprzez manipulacjÄ™ pozycjÄ… â€Zâ€ obiektÃ³w.

ZdecydowaÅ‚em, Å¼e stworze grÄ™ 2D, ale takÄ… ktÃ³ra w dynamiczny sposÃ³b wykorzystuje trzeci wymiar, co okazaÅ‚o siÄ™ nie lada wyzwaniem. 

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z3.1.png)

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z1.2.png)

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z0.2.png)

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z2.1.png)

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z4.1.png)

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z5.2.png)

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z1.1.png)

MyÅ›lÄ™, Å¼e dziÄ™ki temu udaÅ‚o mi siÄ™ osiÄ…gnÄ…Ä‡ naprawdÄ™ fajny efekt, ktÃ³ry wyrÃ³Å¼nia tÄ™ platformÃ³wkÄ™ na tle innych tj. "Super Mario Bros", ktÃ³rego remake-a 
swojÄ… drogÄ… stworzyÅ‚em bedÄ…c w drugiej liceum 
[ i znajduje siÄ™ w tym repozytorium.](https://github.com/Mietek-01/Super-Mario-Bros-Remake)

Dodatkowo gra zawiera samouczek oraz sprawny system checkpoint-Ã³w dziÄ™ki, ktÃ³rym w szybki sposÃ³b gracz bÄ™dzie mÃ³gÅ‚ siÄ™ odrodziÄ‡ nie tracÄ…c postÄ™pÃ³w w rozgrywce. 

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Z0.1.png)

W celu Å‚atwiejszej eksploracji Å›wiata gry na koÅ„cu sekcji "About" w Start Menu umieÅ›ciÅ‚em spis cheat-Ã³w dziÄ™ki, ktÃ³rym gracz np. nie bÄ™dzie mÃ³gÅ‚ przyjmowaÄ‡ obraÅ¼eÅ„.

## OdnoÅ›niki
- Razem z kolegÄ… stworzyliÅ›my amatorski trailer i znajduje siÄ™ na youtube [o tutaj](https://youtu.be/bA7vMUqEdhA).
- JeÅ›li chcesz zagraÄ‡ moÅ¼esz wejÅ›c w [ten link](https://mietek01.itch.io/depther), ktÃ³ry prowadziÄ‡ do strony itch.io, specjalnej platformy do umieszczania gier. By zagraÄ‡ wpisz hasÅ‚o: Depther714. Z powodu, iÅ¼ gra bÄ™dzie uruchamiana na przeglÄ…darce, FPS mogÄ… byÄ‡ niÅ¼sze niÅ¼ w wersji na PC. 
- MoÅ¼esz rÃ³wnieÅ¼ pobraÄ‡ folder Depther.zip z sekcji [Releases](https://github.com/Mietek-01/Depther/releases). Gra jest zrobiona na silniku, wiÄ™c nie masz siÄ™ czego obawiaÄ‡ ğŸ˜‰
- W [VSCodeCounter](https://github.com/Mietek-01/Depther/blob/master/.VSCodeCounter/2022-03-08_13-50-04/results.md) znajduje siÄ™ spis wszystkich skryptÃ³w gry.

## Opis projektu
Projekt gry zawiera ponad 90 skryptÃ³w (11 000 linijek kodu), ktÃ³re wÅ‚asnorÄ™cznie napisaÅ‚em. Przez caÅ‚y proces tworzenia "Depthera" duÅ¼Ä… wagÄ™ przywiÄ…zywaÅ‚em do refactoringu, gdyÅ¼ jako programiÅ›cie bardzo zaleÅ¼y mi na jakoÅ›ci, jak rÃ³wnieÅ¼ czystoÅ›ci kodu. 

WiÄ™kszoÅ›Ä‡ mechanizmÃ³w, ktÃ³re w grze siÄ™ znajdujÄ… musiaÅ‚em wielokrotnie przebudowywaÄ‡, gdyÅ¼ mÃ³j kod nie nadÄ…Å¼aÅ‚ za wzrostem mojej wiedzy jak i doÅ›wiadczenia. ZdajÄ™ sobie sprawÄ™, Å¼e i teraz wiele rzeczy napisaÅ‚ bym inaczej zwÅ‚aszcza, Å¼e o wzorcach projektowych, zasadach SOLID, Unit Test-ach oraz wzorcu DI zaczoÅ‚em uczyÄ‡ siÄ™, gdy moja gra byÅ‚a juÅ¼ praktycznie skoÅ„czona.

PoniÅ¼ej zamieszczam spis najciekawszych elementÃ³w gry, ktÃ³re w moim mniemaniu sÄ… najbardziej warte pokazania. Wszystkie przedstawiane skrypty znajdujÄ… siÄ™ w folderze [Highlighted Scripts](https://github.com/Mietek-01/Depther/tree/master/Highlighted%20Scripts).

### Abstrakcje
- W folderze [Abstractions](https://github.com/Mietek-01/Depther/tree/master/Highlighted%20Scripts/Abstractions) znajdujÄ… siÄ™ moje klasy abstrakcyjne. DziÄ™ki nim kod dziaÅ‚a w wiÄ™kszym stopniu ogÃ³lnoÅ›ci, co przekÅ‚ada siÄ™ na jego uniwersalnoÅ›Ä‡ jak rÃ³wnieÅ¼ rozszerzalnoÅ›Ä‡. 
- SzczegÃ³lnie istotna jest klasa [Damageable](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Abstractions/Damageable.cs), dziÄ™ki ktÃ³rej instancje klas pochodnych stajÄ… siÄ™ zniszczalne i mogÄ… przyjmowaÄ‡ obraÅ¼enia. Co wiÄ™cej, dziÄ™ki zastosowaniu wzorca "Observer", w momencie gdy taki obiekt zostanie zniszczony, wszyscy subskrybenci zostanÄ… o tym poinformowani, co pozwala obiektom Å›ledzÄ…cym zareagowaÄ‡ adekwatnie do zaistniaÅ‚ego zdarzenia.

### Mechanizm Player-a
- GÅ‚Ã³wna czÄ™Å›Ä‡ znajdujÄ™ siÄ™ w klasie [Player](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/Player.cs), ktÃ³ra dziedziczy z klasy [Character](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Abstractions/Character.cs). W niej zastosowaÅ‚em wzorzec DI, poprzez uÅ¼ycie interfejsu IPlayerInputData.
- Za pobieranie input-a odpowiada skrypt [PlayerInput.cs](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/PlayerInput.cs).
- W folderze [InputData](https://github.com/Mietek-01/Depther/tree/master/Highlighted%20Scripts/Player/InputData) znajdujÄ… siÄ™ klasy, ktÃ³re umoÅ¼liwiajÄ… mi pobieranie inputa-a od gracza. Bardzo waÅ¼nÄ… rolÄ™ odgrywa klasa [InputData](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/InputData/InputData.cs), ktÃ³ra jest typem polimorficznym oraz klasÄ… bazowÄ… dla klas pochodnych tj. [DoubleTapInput](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/InputData/PlayerInput.DoubleTapInput.cs) czy [ButtonInput](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/InputData/PlayerInput.ButtonInput.cs). Bardzo fajnie widoczna jest tu zasada "Open/Close" oraz "Liskov substitution".
- Za wykonanie efektu "Dash move" odpowiada skrypt [PlayerDashMoveCreator.cs](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/PlayerDashMoveCreator.cs).
- Skrypt [Weapon.cs](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/Player/Weapon/Weapon.cs) pozwala nadaÄ‡ broni mocy sprawczej.

### ObjectsPooler
- Skrypt [ObjectsPooler.cs](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/ObjectsPooler/ObjectsPooler.cs) jest mojÄ… implementacja techniki "Objects Pooling", ktÃ³ra pozwala na wtÃ³rne uÅ¼ywanie obiektÃ³w. StworzyÅ‚em jÄ… w oparciu o wzorzec "Singleton", ktÃ³ry gwarantujÄ™ wystÄ™powanie tylko jednej instancji klasy oraz zapewnia do niej globalny dostÄ™p. Dodatkowo w celu sprawniejszego pobierania obiektÃ³w z "basenu" zastosowaÅ‚em strukturÄ™ danych kolejkÄ™.

### DepthField
- Jest to mechanizm, ktÃ³ry znajduje siÄ™ w folderze [DepthField](https://github.com/Mietek-01/Depther/tree/master/Highlighted%20Scripts/DepthField). Jego zadaniem jest "Å›ciÄ…gniÄ™cie" obiektu do okreÅ›lonej pozycji "Z", gdy ten tylko wejdzie w jego pole. Pole to skÅ‚ada siÄ™ z zewnÄ™trznego oraz wewnÄ™trznego collidera w ksztaÅ‚cie koÅ‚a. Algorytm na podstawie odlegÅ‚oÅ›ci danego obiektu od Å›rodka tego pola ustawia odpowiedniÄ… pozycjÄ™ "Z" obiektu.

### Finding Tangent Algorithm
- Jest to algorytm, ktÃ³ry znajdujÄ™ siÄ™ w skrypcie [UsefulFunctions.cs](https://github.com/Mietek-01/Depther/blob/master/Highlighted%20Scripts/UsefulFunctions/UsefulFunctions.cs), a dokÅ‚adniej w funkcji UsefulFunctions.FindTangentFor(...). Zadaniem tego algorytmu jest okreÅ›lenie stycznej do collidera, z ktÃ³rym obiekt zÅ‚apaÅ‚ kolizje. Owy algorytm byÅ‚ mi potrzebny, by w odpowiedni sposÃ³b tworzyÄ‡ efekty rosprysku, w momencie gdy pocisk uderza w platforme pod rÃ³Å¼nymi kÄ…tami. DziÄ™ki zmiennej UsefulFunctions.TestMode moÅ¼na zobaczyÄ‡ jak algorytm dziaÅ‚a w czasie rzeczywistym.

### Unit Tests
- Moje testy jednostkowe znajdujÄ… siÄ™ w folderze [Tests](https://github.com/Mietek-01/Depther/tree/master/Highlighted%20Scripts/Tests). Nie jest ich za wiele, gdyÅ¼ nie miaÅ‚em na to zbyt duÅ¼o czasu oraz ich naukÄ™ zaczÄ…Å‚em gdy "Depther" byÅ‚ juÅ¼ praktycznie skoÅ„czony, takÅ¼e struktura kodu nie pozwoliÅ‚a mi na ich Å‚atwÄ… implementacjÄ™. Jestem przekonany, Å¼e gdybym zaczÄ… od poczÄ…tku tworzyc swojÄ… grÄ™ z uwzglÄ™dnieniem Unit Test-Ã³w, to struktura kodu mogÅ‚aby wyglÄ…daÄ‡ zupeÅ‚nie inaczej.   

## Widok projektu

![Browser Screenshot](https://github.com/Mietek-01/Depther/blob/master/Screens/Unity%20Project%20Screen.png)

## Podsumowanie
Na koniec chciaÅ‚bym dodaÄ‡, Å¼e jestem caÅ‚kowitym samoukiem, ktÃ³ry musiaÅ‚ zmierzyÄ‡ siÄ™ ze wszystkim sam oraz ktÃ³remu to wÅ‚aÅ›nie pasja pozwoliÅ‚a stworzyÄ‡ tak rozbudowanÄ… grÄ™ samodzielnie.
